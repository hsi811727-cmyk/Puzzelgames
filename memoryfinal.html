<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Memory Match - Working Final</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none;
            font-family: Arial, sans-serif;
        }
        body {
            background: #1a2e3f;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        .game-container {
            width: min(98vw, 450px);
            background: #2c3e50;
            border-radius: 20px;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            color: white;
            font-size: 1.5rem;
            background: #34495e;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .card {
            aspect-ratio: 1;
            background: #e67e22;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5rem;
            cursor: pointer;
            transition: 0.2s;
            color: white;
            box-shadow: 0 5px 0 #b85e0f;
        }
        .card.flipped {
            background: #3498db;
            transform: rotateY(180deg);
            box-shadow: 0 5px 0 #2980b9;
        }
        .card.matched {
            background: #2ecc71;
            opacity: 0.7;
            cursor: default;
            box-shadow: 0 5px 0 #27ae60;
        }
        button {
            width: 100%;
            background: #e67e22;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 5px 0 #b85e0f;
        }
        button:active {
            transform: translateY(5px);
            box-shadow: 0 1px 0 #b85e0f;
        }
    </style>
</head>
<body>
<div class="game-container">
    <div class="header">
        <span>ðŸ§  MEMORY</span>
        <span id="moves">Moves: 0</span>
    </div>
    <div class="board" id="board"></div>
    <button id="reset">âŸ² NEW GAME</button>
</div>

<script>
(function() {
    const emojis = ['ðŸ¶', 'ðŸ±', 'ðŸ­', 'ðŸ¹', 'ðŸ°', 'ðŸ¦Š', 'ðŸ»', 'ðŸ¼'];
    let cards = [];
    let flipped = [];
    let matched = [];
    let moves = 0;
    let lock = false;
    
    function init() {
        cards = [...emojis, ...emojis];
        for(let i=cards.length-1; i>0; i--) {
            let j = Math.floor(Math.random() * (i+1));
            [cards[i], cards[j]] = [cards[j], cards[i]];
        }
        flipped = [];
        matched = [];
        moves = 0;
        lock = false;
        document.getElementById('moves').textContent = 'Moves: 0';
        render();
    }
    
    function handleClick(index) {
        if(lock) return;
        if(flipped.includes(index)) return;
        if(matched.includes(index)) return;
        
        flipped.push(index);
        moves++;
        document.getElementById('moves').textContent = `Moves: ${moves}`;
        render();
        
        if(flipped.length === 2) {
            lock = true;
            let [i, j] = flipped;
            
            if(cards[i] === cards[j]) {
                matched.push(i, j);
                flipped = [];
                lock = false;
                render();
                
                if(matched.length === cards.length) {
                    setTimeout(() => alert('ðŸŽ‰ YOU WIN!'), 100);
                }
            } else {
                setTimeout(() => {
                    flipped = [];
                    lock = false;
                    render();
                }, 800);
            }
        }
    }
    
    function render() {
        let boardEl = document.getElementById('board');
        boardEl.innerHTML = '';
        
        for(let i=0; i<cards.length; i++) {
            let card = document.createElement('div');
            card.className = 'card';
            if(flipped.includes(i) || matched.includes(i)) {
                card.classList.add('flipped');
                card.textContent = cards[i];
            }
            if(matched.includes(i)) {
                card.classList.add('matched');
            }
            card.onclick = () => handleClick(i);
            boardEl.appendChild(card);
        }
    }
    
    document.getElementById('reset').onclick = init;
    init();
})();
</script>
</body>
</html>